  
{% extends 'base.html' %}


{% block head_content %}
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.js'></script>

    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.css' rel='stylesheet' />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <link rel='stylesheet' href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' />

    <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js'></script>
    <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js' charset='utf-8'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.js'></script>

    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.css' type='text/css'/>

    <link rel = "stylesheet" href = "static/style/mapview.css" />

    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>

{% endblock %}

{% block content %}

    <div class="main-content">
        <div id="map-btns" class="container">
           
            <div id='calc-route' class="row"> 
                <button type='button' id='calcuate-route-btn' class='calc-route-btn' style="display:none;" > 
                    Calculate Route  
                </button>
            </div>  
            <div id='animate-route' class="row"> 
                <button type='button' id='animate-route-btn' class='animate-route-btn' style="display:none;"> 
                    Animate Route  
                </button>
            </div>

            <div id='save-route' class="row">
                {% if current_user.is_authenticated %}
                    <button type='button' id='save-route-btn' class='save-route-btn' style="display:none;"> 
                        Save Route 
                    </button>
                {% endif %}
                <script type="text/javascript"></script>
             </div>
        
            <div id='save-form' class="row" style="display:none;" >
                <div class="save-route-form" id="save-route-form"  class="col-6" > 
                    Add to existing collection: <br>

                    Collection: <textarea id="collection_name" name="collection_name" hidden="true"></textarea>
                        <select id="dropdown">

                            <option value="" disabled selected hidden>Collections...</option>
                            {% for collection in current_user.collections %}

                                <option value="{{collection.collection_name}}">{{collection.collection_name}}</option>

                            {% endfor %}

                        </select>
                    <br>                        
                    Route Name: <input type="text" name="route_name" id="route_name"><br>
                    <div>
                        <button type='button' id='save-route-form-btn' class='save-route-form-btn' style="display:none;"> 
                        Save Route 
                        </button>
                    </div>
                        
                </div>
            </div>
        </div>
        <div id="map"> 
            <script type="text/javascript" src="static/script/mapview.js"></script>
        </div>
    
    </div>
    

{% endblock %}




